\chapter{GarbageCollection}

Verwendet man eine Skriptsprache wie Javascript, welche sich selbst um GarbageCollection kümmert, so muss man dafür Sorge tragen, dass diese in gewissen Abständen ausgeführte Aktion nicht den Spielverlauf störend unterbricht.

Leider bietet Javascript keine Möglichkeit, die GarbageCollection selbst aufzurufen, sonst könnte man dies alle X Frames machen und dadurch den Aufwand einer einzelnen GarbageCollection drastisch reduzieren.

Als Folge dessen besteht die einzelne Möglichkeit, die GarbageCollection soweit wie möglich zu unterbinden darin, gar nicht erst ''Garbage'' zu erzeugen. Innerhalb der Engine wird versucht potentiell kurzlebige Objekte wie Vektoren so gut es geht wieder zu verwenden. Dazu kann mit Hilfe des \textprog{GCPool}-Objekts jede Klasse, z. B. \textprog{Vector3} Pooling-fähig gemacht werden. Möchte man so einen neuen Vektor bekommen, so holt man sich einen aus dem Pool von Vektoren und gibt ihn wieder frei, sobald man ihn nicht mehr benötigt. Nur wenn man einen Vektor braucht und der Pool gerade leer ist, wird ein neues Vektor-Objekt per \textprog{new} erzeugt.

\todo{pooling von QQ}